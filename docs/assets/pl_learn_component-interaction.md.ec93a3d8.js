import{_ as s,c as a,o as n,d as l}from"./app.8706ebaa.js";const F=JSON.parse('{"title":"Komunikacja i wsp\xF3\u0142praca komponent\xF3w","description":"","frontmatter":{},"headers":[{"level":2,"title":"Relacje mi\u0119dzy komponentami","slug":"relacje-miedzy-komponentami","link":"#relacje-miedzy-komponentami","children":[{"level":3,"title":"Relacja rodzic \u2192 dziecko","slug":"relacja-rodzic-\u2192-dziecko","link":"#relacja-rodzic-\u2192-dziecko","children":[]},{"level":3,"title":"Relacja dziecko \u2192 rodzic","slug":"relacja-dziecko-\u2192-rodzic","link":"#relacja-dziecko-\u2192-rodzic","children":[]}]},{"level":2,"title":"Tree Event (broadcast)","slug":"tree-event-broadcast","link":"#tree-event-broadcast","children":[{"level":3,"title":"Zalety","slug":"zalety","link":"#zalety","children":[]},{"level":3,"title":"Wady","slug":"wady","link":"#wady","children":[]}]},{"level":2,"title":"Search & Invoke","slug":"search-invoke","link":"#search-invoke","children":[{"level":3,"title":"Zalety","slug":"zalety-1","link":"#zalety-1","children":[]},{"level":3,"title":"Wady","slug":"wady-1","link":"#wady-1","children":[]},{"level":3,"title":"Przyk\u0142ad implementacji \u2013 BedWars","slug":"przyk\u0142ad-implementacji-\u2013-bedwars","link":"#przyk\u0142ad-implementacji-\u2013-bedwars","children":[]}]}],"relativePath":"pl/learn/component-interaction.md"}'),o={name:"pl/learn/component-interaction.md"},e=l(`<h1 id="komunikacja-i-wspo\u0142praca-komponentow" tabindex="-1">Komunikacja i wsp\xF3\u0142praca komponent\xF3w <a class="header-anchor" href="#komunikacja-i-wspo\u0142praca-komponentow" aria-hidden="true">#</a></h1><div class="warning custom-block"><p class="custom-block-title">Uwaga</p><p>Je\u017Celi komponent nie znajduje si\u0119 w <a href="/CraftContainers/pl/learn/components.html">cyklu \u017Cycia</a><strong><code>RUNNING</code></strong>, nie mo\u017Ce zosta\u0107 wyszukany i nie otrzyma powiadomienia o zdarzeniu. Pami\u0119taj o tym przy projektowaniu systemu, poniewa\u017C mo\u017Ce to prowadzi\u0107 do niesp\xF3jno\u015Bci stanu mi\u0119dzy komponentami.</p></div><h2 id="relacje-miedzy-komponentami" tabindex="-1">Relacje mi\u0119dzy komponentami <a class="header-anchor" href="#relacje-miedzy-komponentami" aria-hidden="true">#</a></h2><h3 id="relacja-rodzic-\u2192-dziecko" tabindex="-1">Relacja rodzic \u2192 dziecko <a class="header-anchor" href="#relacja-rodzic-\u2192-dziecko" aria-hidden="true">#</a></h3><p>Wystarczy przechowywa\u0107 referencj\u0119 do dziecka. Jest to bezpieczne, gdy komponenty s\u0105 w bliskiej relacji.</p><h3 id="relacja-dziecko-\u2192-rodzic" tabindex="-1">Relacja dziecko \u2192 rodzic <a class="header-anchor" href="#relacja-dziecko-\u2192-rodzic" aria-hidden="true">#</a></h3><p>Wystarczy przechowywa\u0107 referencj\u0119 do rodzica. Takie podej\u015Bcie jest bezpieczne przy bliskiej relacji komponent\xF3w.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Je\u017Celi relacje mi\u0119dzy komponentami nie s\u0105 bezpo\u015Brednie, nie przechowuj referencji do odleg\u0142ych komponent\xF3w. Zamiast tego korzystaj z <a href="/CraftContainers/pl/learn/search.html">przeszukiwania drzewa</a> i mechanizm\xF3w komunikacji komponent\xF3w.</p></div><h2 id="tree-event-broadcast" tabindex="-1">Tree Event (broadcast) <a class="header-anchor" href="#tree-event-broadcast" aria-hidden="true">#</a></h2><p>Pozwala rozg\u0142asza\u0107 zdarzenia w ca\u0142ym drzewie komponent\xF3w, bez okre\u015Blania konkretnych odbiorc\xF3w.</p><h3 id="zalety" tabindex="-1">Zalety <a class="header-anchor" href="#zalety" aria-hidden="true">#</a></h3><ul><li>Nie wymaga definiowania konkretnych odbiorc\xF3w.</li><li>Event trafia do wszystkich komponent\xF3w w drzewie.</li></ul><h3 id="wady" tabindex="-1">Wady <a class="header-anchor" href="#wady" aria-hidden="true">#</a></h3><ul><li>Iteracja po ca\u0142ym drzewie jest liniowa <em>(w przysz\u0142o\u015Bci planowane indeksowanie)</em>.</li><li>Struktura odbiorc\xF3w jest mniej przewidywalna.</li></ul><p><a href="/CraftContainers/pl/learn/custom-events.html">Dowiedz si\u0119 wi\u0119cej o Tree Event.</a></p><h2 id="search-invoke" tabindex="-1">Search &amp; Invoke <a class="header-anchor" href="#search-invoke" aria-hidden="true">#</a></h2><p>Mechanizm Search &amp; Invoke pozwala wyszukiwa\u0107 konkretne komponenty i wywo\u0142ywa\u0107 na nich zdarzenia.</p><h3 id="zalety-1" tabindex="-1">Zalety <a class="header-anchor" href="#zalety-1" aria-hidden="true">#</a></h3><ul><li>Wysoka wydajno\u015B\u0107 dzi\u0119ki indeksowanemu wyszukiwaniu.</li><li>Komponent mo\u017Ce by\u0107 wyszukiwany po swojej klasie, jej nadklasach oraz implementowanych interfejsach.</li><li>Powiadamiane s\u0105 tylko komponenty, kt\xF3re faktycznie powinny otrzyma\u0107 zdarzenie.</li></ul><h3 id="wady-1" tabindex="-1">Wady <a class="header-anchor" href="#wady-1" aria-hidden="true">#</a></h3><ul><li>Trzeba zdefiniowa\u0107 konkretnych odbiorc\xF3w.</li><li>Nale\u017Cy r\u0119cznie wywo\u0142a\u0107 metod\u0119 eventu dla ka\u017Cdego komponentu.</li></ul><h3 id="przyk\u0142ad-implementacji-\u2013-bedwars" tabindex="-1">Przyk\u0142ad implementacji \u2013 BedWars <a class="header-anchor" href="#przyk\u0142ad-implementacji-\u2013-bedwars" aria-hidden="true">#</a></h3><h4 id="interfejs-obs\u0142ugi-zdarzenia-zniszczenia-\u0142ozka" tabindex="-1">Interfejs obs\u0142ugi zdarzenia zniszczenia \u0142\xF3\u017Cka <a class="header-anchor" href="#interfejs-obs\u0142ugi-zdarzenia-zniszczenia-\u0142ozka" aria-hidden="true">#</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">IBedDestroyedHandler</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">invokeBedDestroyed</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Team</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">attacker</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Team</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">victim</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>Mo\u017Cna te\u017C stworzy\u0107 og\xF3lny interfejs, np. <code>IBedWarsHandler</code>, kt\xF3ry obs\u0142u\u017Cy wszystkie zdarzenia.</p><h4 id="g\u0142owny-helper-\u2013-core-rozgrywki" tabindex="-1">G\u0142\xF3wny helper \u2013 core rozgrywki <a class="header-anchor" href="#g\u0142owny-helper-\u2013-core-rozgrywki" aria-hidden="true">#</a></h4><p>Udost\u0119pnia funkcje i stan gry.</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">IBedWarsCore</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">List</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C792EA;">Team</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getTeams</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Nullable</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Team</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getTeamForPlayer</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Player</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">player</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Nullable</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Team</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getTeamForBed</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Block</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">block</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">setItemGeneratorTier</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">tier</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>Zmiana stan\xF3w w core mo\u017Ce wywo\u0142ywa\u0107 eventy do innych komponent\xF3w zale\u017Cnych. Zaleca si\u0119 umieszczenie core jak najbli\u017Cej korzenia drzewa i korzystanie z adnotacji <code>@Dependancy</code> w komponentach, kt\xF3re korzystaj\u0105 z niego.</p><h4 id="komponent-logiki-\u0142ozek" tabindex="-1">Komponent logiki \u0142\xF3\u017Cek <a class="header-anchor" href="#komponent-logiki-\u0142ozek" aria-hidden="true">#</a></h4><p>Wykrywa zniszczenie \u0142\xF3\u017Cka, wprowadza logik\u0119 i informuje o tym inne komponenty.</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">SingletonComponent</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">BedLogic</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Controller</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">boolean</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">isBedMaterial</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Material</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">material</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// some logic...</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">BedLogic</span><span style="color:#89DDFF;">(@</span><span style="color:#C792EA;">NotNull</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Component</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">parent</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        super</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">parent</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Listeners</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineListeners</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> super</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineListeners</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">MyListener</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">class</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">private</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyListener</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">implements</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">AdaptedListener</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">EventHandler</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">ignoreCancelled</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onBlockBreak</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">BlockBreakEvent</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> player </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> event</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getPlayer</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> block </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> event</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getBlock</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(!</span><span style="color:#A6ACCD;">BedLogic</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isBedMaterial</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">block</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getType</span><span style="color:#89DDFF;">()))</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> container </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Container</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getForPlayer</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">player</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">first</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">container</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> BedLogic</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">class</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> bedLogic </span><span style="color:#C792EA;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> core </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> container</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getComponent</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">IBedWarsCore</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">class</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">core </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> attackerTeam </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> core</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getTeamForPlayer</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">player</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> victimTeam </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> core</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getTeamForBed</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">block</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">attackerTeam </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> victimTeam </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">attackerTeam</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equals</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">victimTeam</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                    event</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setCancelled</span><span style="color:#89DDFF;">(true);</span></span>
<span class="line"><span style="color:#A6ACCD;">                    player</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sendMessage</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\xA7cNie mo\u017Cesz zniszczy\u0107 swojego \u0142\xF3\u017Cka!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">                container</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEachComponents</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">IBedDestroyed</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">class</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> iBedDestroyed </span><span style="color:#C792EA;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                    iBedDestroyed</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">invokeBedDestroyed</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">attackerTeam</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> victimTeam</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">});</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h4 id="komponent-wyswietlajacy-wiadomosci" tabindex="-1">Komponent wy\u015Bwietlaj\u0105cy wiadomo\u015Bci <a class="header-anchor" href="#komponent-wyswietlajacy-wiadomosci" aria-hidden="true">#</a></h4><p>Reaguje na zdarzenie zniszczenia \u0142\xF3\u017Cka i wy\u015Bwietla komunikat na czacie.</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">SingletonComponent</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GameMessages</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Controller</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">implements</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">IBedDestroyed</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">private</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> BED_DESTROYED_MESSAGE </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">%s%s Team \xA7fdestroyed the bed of %s%s Team</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">GameMessages</span><span style="color:#89DDFF;">(@</span><span style="color:#C792EA;">NotNull</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Component</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">parent</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        super</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">parent</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">invokeBedDestroyed</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Team</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">attacker</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Team</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">victim</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> message </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> String</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">                BED_DESTROYED_MESSAGE</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                attacker</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getTextColor</span><span style="color:#89DDFF;">(),</span></span>
<span class="line"><span style="color:#A6ACCD;">                attacker</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getName</span><span style="color:#89DDFF;">(),</span></span>
<span class="line"><span style="color:#A6ACCD;">                victim</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getTextColor</span><span style="color:#89DDFF;">(),</span></span>
<span class="line"><span style="color:#A6ACCD;">                victim</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getName</span><span style="color:#89DDFF;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">players</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">forEach</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">player </span><span style="color:#C792EA;">-&gt;</span><span style="color:#A6ACCD;"> player</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sendMessage</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">message</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div>`,35),p=[e];function c(r,t,y,D,i,A){return n(),a("div",null,p)}const d=s(o,[["render",c]]);export{F as __pageData,d as default};
